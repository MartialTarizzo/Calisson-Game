<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns:og="http://ogp.me/ns#">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/popup.css">

    <title>Speedy Calisson</title>
</head>

<body>

    <script type="module">
        import { beginGame } from "./scripts/gamePlay.js"

        function closePopupuAndStart() {
            document.getElementById('popup').style.display = "none"
            beginGame()
        }

        btClosePopup.onclick = closePopupuAndStart

    </script>

    <div id="controle">
        <button id="btreset">Reset</button>
        <button id="btmode" style="display: none;">Mode arête</button>
        <span id="sptaille">Taille :
            <input type="number" id="taille" value="3" min="2" step="1" width="30px"></span>

        <span id="splongueur">Zoom <input type="number" id="longueur" value="80" min="30" step="1" width="30px"></span>
        <span id="losange" style="display: none;">Losange(s) utilisé(s) : <span id="nblosange"
                style="display: none;">0</span></span>
        <button id="btcancel">Abandon</button>
        <br>
        <span id="score"></span>&nbsp;
        <span id="chronospan">
            &nbsp;&nbsp;Chrono :
            <span id="chrono">0 s</span>
        </span>
        <span id="chronospan">
            &nbsp;&nbsp;Restant :
            <span id="spTempsRestant">0 s</span>
        </span>
    </div>

    <canvas id="canvas" width="425" height="490" style="cursor: pointer;"></canvas>
    <canvas id="canvasbis" width="30" height="30"></canvas>

    <br>

    <!-- <div id="texte">
        CC-BY-SA-NC Martial TARIZZO, à partir du programme d'Arnaud DURAND<br>
        et du jeu du Calisson créé par Olivier LONGUET
    </div> -->
    <input type="text" id="copiepressepapier" style="opacity:0">
    <div id="messagediv" style="display: none;">
        <div id="message"></div>
        <br>
        <input type="button" value="Partager sur Twitter" id="btshare" style="display: none;">
        <input type="button" id="btok" value="Ok" style="display: none;">
    </div>
    <br>
    <!-- Le popup modal affiché au début du jeu  -->
    <div id="popup">
        <div class="overlay"></div>
        <div class="box">
            <div class="close" id="btClosePopup">&times; </div>
            <div class="frame">
                <div class="title">Speedy Calisson</div>
                <iframe src="info.html"></iframe>
            </div>
        </div>
    </div>
    <!-- le dialogue modal de fin de partie -->
<div id="modalEndGame" class="modal">
    <!-- Modal content -->
    <div class="modal-content">
      <div class="modal-header">
        <h3>Partie terminée</h3>
      </div>
      <div class="modal-body">
        <p id="pEndGameMessage"></p>
      </div>
    </div>
</body>

</html>