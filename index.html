<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html lang="fr">

<head>
    <title>Accueil</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="Content-Type" content="UTF-8">
    <meta name="Content-Language" content="fr">
    <meta name="Keywords" content="game jeu calisson pavage perspective">
    <meta name="description" content="Application PWA du jeu du calisson">
    <meta name="Author" content="Martial Tarizzo">
    <meta name="Identifier-Url" content="https://martialtarizzo.github.io/Calisson-Game/">
    <meta name="Robots" content="all">
    <meta name="Rating" content="general">
    <meta name="Distribution" content="global">
    <meta name="Category" content="games">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="black" 
    
    <!-- Makes your prototype chrome-less once bookmarked to your phone's
        home screen -->
    <!-- <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black"> -->

    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/popup.css">
    <link rel="icon" type="image/x-icon" href="./pictures/favicon.ico">

    <title>Speedy Calisson</title>

    <script>
        // redirection vers la page correcte si une langue a déjà été choisie
        let langue = localStorage.getItem("langue");
        if (!(langue == null || langue == 'fr')) {
            window.location.replace(`./index.${langue}.html`)
        }

        // On conserve la taille max de grille dans le localstorage lors du 
        // changement de page

        function setMaxGridSize() {
            localStorage.setItem('maxGridSize',
                document.getElementById('selMaxGridSize').value)
        }

        // unload non déclenché sur mon smartphone ...
        // window.addEventListener("unload", setMaxGridSize);

        // et on récupère cette taille max au chargement de la page
        function getMaxGridSize() {
            let maxGridSizeInStorage = localStorage.getItem('maxGridSize')
            let maxGridSize = maxGridSizeInStorage ? maxGridSizeInStorage : "6"
            document.getElementById('selMaxGridSize').value = maxGridSize
        }

        document.addEventListener("DOMContentLoaded", getMaxGridSize);

        navigator.serviceWorker.register(location.origin + '/service-worker.js')
    </script>
    <link rel="manifest" href="./manifest.json" />
</head>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-09KM2N4X02"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-09KM2N4X02');
</script>

<body style=" font-size: 20px; margin: 50px; text-align: left; border-width: 1px;">

    <h1 class="titrePageIndex">Speedy Calisson</h1>

    <div style="float: right; align-items: center;">
        <button id="btnLang" onclick="setTimeout(()=> {
            localStorage.setItem('langue', 'en') ;
            window.location.replace('./index.en.html')}, 0)">
            <em>English <br> version</em>
        </button>
    </div>

    <p style="text-align: center;">
        <img src="./pictures/calissons.png" alt="" width="300px" height="163px">
    </p>

    <div style="border-style:double; border-width: 1;">
        <p style="text-align: center;">cliquez/tapez pour choisir le mode de jeu</p>
        <p style="text-align: center;">
            <a href="./training.html"><button class="modeButton">Entraînement</button></a>
            &nbsp;ou &nbsp
            <a href="./speedy.html"><button class="modeButton">Speedy !</button></a>
            <br>
        </p>
        <p class="maxGridSize">
            <span id="etiqMaxGridSize">Taille maximale de grille (Speedy) : </span>
            <select name="simple" id="selMaxGridSize" class="maxGridSize" onchange="setMaxGridSize()">
                <option selected value="6">6</option>
                <option value="5">5</option>
                <option value="4">4</option>
            </select>
        </p>
        <p style="font-size: smaller; text-align: center; font-style: italic;"> (lisez la suite si vous ne savez pas
            jouer)</p>
        </p>
    </div>
    <h1>But du jeu</h1>
    <p>Dessiner entièrement les frontières des domaines remplissant entièrement un hexagone, chaque domaine étant rempli
        avec des losanges (ou "calissons") de même orientation (même couleur). Un calisson est formé de l'assemblage de
        deux triangles équilatéraux ayant un côté commun. <br>
        Les domaines sont séparés par des <strong>arêtes</strong> tracées en trait plein, les positions des arêtes à
        déterminer sont tracées en pointillés, avec un petit cercle au milieu.
    </p>
    <p></p>
    <p> Deux règles sont à respecter :</p>
    <ul>
        <li><strong>un calisson n'est jamais traversé par une arête</strong> </li>
        <li><strong> il n'y a pas d'arête entre deux calissons de même orientation</strong></li>
    </ul>
    <p> Pour rendre le pavage unique, certaines arêtes sont fixées au départ :</p>
    <p align="center"> <img src="./pictures/C2-aretes.png" alt="arêtes" width=291 height=336></p>
    <p> Pavage avec les calissons :</p>
    <p align="center"> <img src="./pictures/C2-calissons.png" alt="calissons" width=291 height=336></p>
    <p> Pour gagner, il faut dessiner les frontières des domaines, en s'aidant au besoin du coloriage des calissons
        :</p>
    <p align="center" style="font-size: smaller; text-align: center; font-style: italic;">
        <img src="./pictures/C2-frontieres.png" alt="frontières" width=291 height=336>
        <br>
        position gagnante
    </p>
    <h2>Vision du jeu en 3 dimensions</h2>
    <p>Le pavage de l'hexagone peut s'interpréter comme la projection isométrique d'un empilement de petites caisses
        cubiques dans une grande pièce elle-même cubique. Les caisses sont empilées en les poussant dans la pièce le
        plus loin possible, les piles étant de hauteurs croissantes vers les murs du fond.</p>
    <p>Cette vision du jeu permet souvent de se passer des calissons pour obtenir la solution !</p>

    <h2>Dessin des arêtes</h2>
    <p>
        Sur ordinateur, le dessin des arêtes manquantes s'effectue avec un clic-gauche sur le milieu de l'arête tandis
        que le coloriage d'un calisson est obtenu par un clic-droit sur le centre du losange.
    </p>
    <p>
        Sur tablette/téléphone/écran tactile, le toucher du milieu d'une arête provoque le dessin de l'arête ou le
        coloriage du losange en fonction de l'état d'un bouton de l'interface.
    </p>
    <p style="font-size: smaller; font-style: italic; ">
        Remarques facilitant la résolution :
    <ul style="font-size: smaller; font-style: italic; ">
        <li>deux arêtes connues (pleines ou pointillés) ayant un point commun et formant un angle aigu déterminent
            entièrement l'orientation du calisson correspondant ("règle de l'angle aigu")</li>
        <li>une arête pleine sur la frontière d'un calisson connu détermine l'orientation du calisson ayant cette arête
            en commun ("règle du pli")</li>
    </ul>
    </p>


    <h2>Exemple de résolution</h2>
    <p>Solution d'une grille de taille 3 en utilisant les règles de <strong>l'angle aigu</strong> et du
        <strong>pli</strong>, avec dessin de tous les calissons.
    </p>
    <p align="center">
        <video width="640px" height="'480px" controls>
            <source src="./video/calisson_screencast.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </p>
    Avec de l'entraînement, on peut souvent se passer des calissons !
    <h1>Les deux modes de jeu</h1>
    <h2>Mode <strong>Entraînement</strong></h2>
    <p>Dans ce mode, la durée du jeu n'est pas limitée et il est possible de choisir la taille et le niveau des grilles
        à résoudre dans une liste déroulante.
    </p>
    <p>
        Pour chaque grille résolue, le score obtenu est affiché, et une nouvelle grille est proposée.
    </p>
    <p>
        En cas de changement de niveau, la grille en cours est abandonnée.
    </p>

    <h2>Mode Challenge (Speedy !)</h2>
    <p>Ce mode vous permet de mettre à l'épreuve votre maîtrise du jeu !</p>
    <p>Le but est d'obtenir en un temps limité le score total le plus grand possible, en résolvant des grilles de taille
        et difficulté croissantes analogues à celle de la page d'entraînement (mais les grilles sont différentes !).
    </p>
    <ul>
        <li>crédit de temps initial : <strong>300 s</strong> </li>
        <li>tous les <strong>500</strong> pts, <strong>bonification de 60 s</strong></li>
        <li>La partie est terminée quand le crédit de temps est épuisé.</li>
    </ul>
    <p>
        La taille de l'écran d'un smartphone étant limitée, il peut être difficile de jouer avec les grilles de taille
        importante. Pour faciliter le jeu dans ces conditions, il est possible de fixer la taille maximale des grilles
        qui seront proposées à l'aide de la liste déroulante située sous les boutons de lancement du jeu. <br> Le score
        obtenu pour chaque grille augmente avec cette taille maximale afin que la durée du jeu reste sensiblement
        constante.
    </p>
    <h2>Contrôles</h2>
    <p>Dans les deux modes, deux boutons permettent de modifier le déroulement du jeu :
    <ul>
        <li>
            <strong>Reset</strong> remet la grille dans son état d'origine.
            <br>
            Utile quand on veut repartir de zéro en cas de blocage. Ceci n'a pas d'incidence sur le score, mais vous
            aurez certainement perdu du temps en mode "Challenge" ...
        </li>
        <li>
            <strong>Abandon</strong> est plus radical :
            <ul>
                <li>
                    la résolution de la grille en cours est abandonnée,
                </li>
                <li>
                    la solution est affichée pendant un bref instant,
                </li>
                <li>
                    En mode <strong>Challenge</strong> une pénalité est appliquée sur le crédit de temps ( <strong>- 60
                        s</strong> ),
                </li>
                <li>
                    la grille en cours est de nouveau proposée à la résolution.
                </li>
            </ul>
            Ceci est utile quand on se trouve complètement bloqué, où quand on veut faciliter le démarrage de la
            résolution sur des grilles sans point de départ évident.
        </li>
    </ul>
    </p>

    <p>Pour revenir à l'écran d'accueil depuis les pages de jeu, cliquer sur la maison en haut à gauche
        <img src="./pictures/icons8-home.gif" height="30px" width="30px" alt="Home">
    </p>

    <h2>Dessin des calissons sur Tablette/téléphone</h2>
    <p>Quand on joue sur ordinateur, il est possible de dessiner des calissons (ou losanges) en effectuant un clic-droit
        avec la souris sur le milieu d'une arête.</p>
    <p>
        Sur un dispositif à interface tactile où le clic-droit est impossible, les pages de jeu affichent entre les
        boutons <strong>Reset</strong> et <strong>Abandon</strong> un indicateur du mode d'action d'une pression sur le
        mileu d'une arête : tracé d'une arête (<strong>Mode arête</strong>) ou d'un losange (<strong>Mode
            losange</strong>). Il suffit de taper sur l'indicateur pour changer de mode.
    </p>
    <h2>Conseils</h2>
    <p>Pour obtenir un score important, il faut :</p>
    <ul>
        <li>trouver la solution de chaque grille le plus rapidement possible,</li>
        <li>un bonus est accordé pour la tentative de résolution de la dernière grille (ne pas abandonner même si le
            temps est compté !)</li>
        <li>employer un minimum de calissons/losanges car le score diminue en fonction du nombre utilisé et cela prend
            du temps : L'idéal est de n'en employer aucun !
        </li>
    </ul>
    <p>Le score pour chaque grille augmente avec sa taille et sa difficulté :
    <ul>
        <li>
            Les grilles les plus faciles contiennent beaucoup plus d'arêtes que nécessaire. Leur résolution est
            généralement
            possible sans utiliser le moindre calisson.
        </li>
        <li>
            Les grilles les plus difficiles contiennent un nombre d'arêtes minimal, les résoudre sans calisson est en
            général difficile.
        </li>
    </ul>
    </p>
    <h1>Crédits</h1>
    <p>"Speedy Calisson" est inspiré du jeu du Calisson, inventé par Olivier LONGUET. Pour une présentaton, s'informer
        sur les techniques de résolution et se confronter aux grilles proposées
        par l'auteur, vous pouvez vous rendre sur le <a href="https://mathix.org/calisson/blog/" target="_blank"
            rel="noopener noreferrer">site d'origine</a>.</p>

    <p>Le code de la zone de jeu a été modifié à partir du code initial d'Arnaud DURAND. <br>
        Tous les contenus mentionnés sont sous licence <a
            href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.fr" target="_blank"
            rel="noopener noreferrer">Creative Commons CC-BY-SA-NC</a> </p>
    <br>
    <hr>
    Martial Tarizzo - 24/2/2024
    <p>
        <em> contact : martial.tarizzo (at) gmail . com</em>
    </p>
</body>

</html>