<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html lang="fr">

<head>
    <title>Entraînement au jeu du calisson</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.65">
    <meta name="theme-color" content="black">


    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/popup.css">
    <script src="./scripts/jquery-3.7.1.js"></script>

    <!-- pour le tableau récapitulatif des stats dans la popup de fin d'entraînement -->
     <style>
    table {
      border: 2px solid #555;
      border-collapse: collapse;
      width: 95%;
      margin: auto;
    }

    th,
    td {
      border: 1px solid #bbb;
      padding: 2px 8px 0;
      text-align: center;
    }

    table>caption {
      background-color: rgb(226, 224, 179);
      border-bottom: 2px solid #999;
    }

    thead>tr>th {
      background-color: rgb(215, 215, 255);
      border-bottom: 2px solid #999;
    }
  </style>
</head>

<!-- Google tag (gtag.js) -->
<script async src="https://www.__googletagmanager__.com/gtag/js?id=G-09KM2N4X02"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-09KM2N4X02');
</script>

<script>
    // MAJ du titre de la page en fct de la langue
    let langue = localStorage.getItem("langue");
    if (langue == 'en') { 
        document.title = 'Calisson game Training'
     }
</script>

<body>
    <div class="home">
        <img id='imgHome' src="./pictures/icons8-home-fixed.gif" alt="Retour">
    </div>

    <div id="controle">
        <button id="btback">&nbsp; &lt; &nbsp;</button>
        <button id="btreset">Reset</button>
        <button id="btcancel">Abandon</button>
        <br>
        <div style="font-weight:bold; font-size:30px;">
            <span id="etiqNiveau">Niveau : </span>
            <select name="simple" id="selNiveau" style="font-weight:bold; font-size:30px;height:40px; width:80px; ">
                <option selected value="31">3.1</option>
                <option value="32">3.2</option>
                <option value="33">3.3</option>
                <option value="41">4.1</option>
                <option value="42">4.2</option>
                <option value="43">4.3</option>
                <option value="51">5.1</option>
                <option value="52">5.2</option>
                <option value="53">5.3</option>
                <option value="61">6.1</option>
                <option value="62">6.2</option>
                <option value="63">6.3</option>
            </select>
            <span id="chronospan">
                &nbsp;&nbsp;<span id="etiqChrono"> Chrono :</span>
                <span id="chrono">0 s</span>
            </span>
        </div>
    </div>
    <div>
        <button id="butEdge" class="butMode butMode-edge" style="display: none;">
            <img src="pictures/mode_arete.svg" alt="">
        </button>
        <button id="butDiamond" class="butMode butMode-diamond" style="display: none;">
            <img src="pictures/mode_losange.svg" alt="">
        </button>

        <canvas id="canvas" width="425" height="490"></canvas>
    </div>

    <!-- l'affichage du score de fin de chaque grille -->
    <div id="modalEndGrid" class="modal">
        <div id="popupEndGrid">
            <div>
                <img style=' width: 60%;' src="pictures/240px-388-clapping-hands-2.svg.png">
                <p id="pScoreFinal">100 pts</p>
            </div>
        </div>
    </div>
    <footer id="etiqFooter" style="  position: fixed;
                    left: 0;
                    bottom: 0;
                    width: 100%;
                    background-color: cornflowerblue;
                    color: white;
                    text-align: center;
                    font-size: 20px;">
        Entraînement au Jeu du Calisson
    </footer>

    <!-- le dialogue modal d'affichage des stats -->
    <div id="modalStatistics" class="modal">
        <!-- Modal content -->
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalEndGameTitle">Statistiques de l'entraînement</h3>
            </div>
            <div class="modal-body">
                <p id="pEndGameMessage"></p>
            </div>
            <div class="divStat">
                <p id="pStats"></p>
            </div>
            <button id="btRazStats">Effacement des statistiques</button>
            <div>
                <hr>
            </div>
            <button id="btNewGame">Ok</button>
        </div>
    </div>

    <!-- le dialogue modal d'attente pour le retour à l'index -->
    <div id="modalWait" class="modal">
        <!-- Modal content -->
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="etiqRetour">Retour à la page d'accueil</h3>
            </div>
            <div class="modal-body">
                <p>
                    <img src="./pictures/spinningWait.gif" alt="">
                </p>
            </div>
        </div>
    </div>

    <script type="module">
        import { beginGame } from "./scripts/gamePlay_training.js"

        document.getElementById('selNiveau').onchange = beginGame

        beginGame()
    </script>
</body>

</html>