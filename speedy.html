<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html lang="fr">

<head>
    <title>Speedy !</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->
    <meta name="theme-color" content="black">


    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/popup.css">
    <script src="./scripts/jquery-3.7.1.js"></script>

    <title>Speedy Calisson</title>
</head>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-09KM2N4X02"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-09KM2N4X02');
</script>

<body>
    <div class="home">
        <img id="imgHome" src="./pictures/icons8-home-fixed.gif" alt="Retour">
    </div>

    <div id="controle">
        <button id="btreset">Reset</button>
        <button id="btmode" style="display: none;">Mode arête</button>
        <button id="btcancel">Abandon</button>
        <br>

        <span id="score">
            <span id="etiqScore"></span>
            <span id="valScore"></span>
        </span>&nbsp;
        <span id="etiqChrono">Chrono :</span>
        <span id="chrono">0 s</span>

        &nbsp;&nbsp;
        <span id="etiqTempsRestant">Temps restant :</span>
        <span id="spTempsRestant">0 s</span>
<br>
<em>
    <span id="etiqNiveau"> Niveau : </span>
    <span id='spLevel'>3.1</span>
</em>
    </div>
    
    <div> <canvas id="canvas" width="425" height="490" style="cursor: pointer;"></canvas>
    </div>

    <!-- le dialogue modal de fin de partie -->
    <div id="modalEndGame" class="modal">
        <!-- Modal content -->
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalEndGameTitle">Partie terminée</h3>
            </div>
            <div class="modal-body">
                <p id="pEndGameMessage"></p>
            </div>
            <div class="divStat">
                <p id="pStats"></p>
            </div>
            <button id="btRazStats">Effacement du score à battre<br>et nouvelle partie</button>
            <div>
                <hr>
            </div>
            <button id="btNewGame">Nouvelle partie</button>
        </div>
    </div>

    <!-- l'affichage du score de fin de chaque grille -->
    <div id="modalEndGrid" class="modal">
        <div id="popupEndGrid">
            <div>
                <img style=' width: 60%;' src="pictures/240px-388-clapping-hands-2.svg.png">
                <p id="pScoreFinal">100 pts</p>
            </div>
        </div>
    </div>

    <!-- Le pied de page, avec barre de progression du temps restant -->
    <div style="background-color: darkred; 
                position: absolute;
                left: 1px; 
                bottom: 1px;
                width: calc(100% - 2px); 
                height: calc(1rem + 2px);">
        <div id="timeprogressbar" style="background-color: red;
                    width: calc(100% - 3px);
                    position: absolute;
                    left: 1px; 
                    top: 2px;
                    height: calc(1rem - 1px);">
        </div>
        <div id="etiqFooter" style=" width: 100%;  
                    position: absolute;
                    top: 0px;
                    text-align: center;
                    color: white;">
            Speedy Calisson
        </div>
    </div>

    <!-- le dialogue modal d'attente pour le retour à l'index -->
    <div id="modalWait" class="modal">
        <!-- Modal content -->
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="etiqRetour">Retour à la page d'accueil</h3>
            </div>
            <div class="modal-body">
                <p>
                    <img src="./pictures/spinningWait.gif" alt="">
                </p>
            </div>
        </div>
    </div>

    <script type="module">
        import { beginGame } from "./scripts/gamePlay_speedy.js"
        beginGame()
    </script>

</body>

</html>